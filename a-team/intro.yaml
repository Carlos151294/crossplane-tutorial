---
apiVersion: devopstoolkitseries.com/v1alpha1
kind: ClusterClaim
metadata:
  name: cluster-01
spec:
  id: cluster-01
  compositionSelector:
    matchLabels:
      provider: google
      cluster: gke
  parameters:
    nodeSize: small
    minNodeCount: 1
---
apiVersion: v1
kind: Secret
metadata:
  name: silly-demo-db-password
  namespace: a-team
data:
  password: cG9zdGdyZXM=
---
apiVersion: devopstoolkit.live/v1beta1
kind: SQL
metadata:
  name: silly-demo-db
spec:
  size: small
  version: "13"
  databases:
    - silly-demo-db
  crossplane:
    compositionSelector:
      matchLabels:
        provider: google
        db: postgresql
---
apiVersion: devopstoolkit.live/v1beta1
kind: App
metadata:
  name: silly-demo
spec:
  namespace: production
  image: c8n.io/vfarcic/silly-demo:1.4.52
  port: 8080
  host: silly-demo.acme.com
  dbSecret:
    name: silly-demo-db
    namespace: a-team
  kubernetesProviderConfigName: cluster-01
  crossplane:
    compositionSelector:
      matchLabels:
        type: backend-db
        location: remote
